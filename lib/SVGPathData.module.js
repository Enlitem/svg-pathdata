/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};function r(r,e){function i(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function e(t,r){var e=t[0],i=t[1];return[e*Math.cos(r)-i*Math.sin(r),e*Math.sin(r)+i*Math.cos(r)]}function i(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var e=0;e<t.length;e++)if("number"!=typeof t[e])throw new Error("assertNumbers arguments["+e+"] is not a number. "+typeof t[e]+" == typeof "+t[e]);return!0}var a=Math.PI;function n(t,r,i){t.lArcFlag=0===t.lArcFlag?0:1,t.sweepFlag=0===t.sweepFlag?0:1;var n=t.rX,o=t.rY,s=t.x,u=t.y;n=Math.abs(t.rX),o=Math.abs(t.rY);var c=e([(r-s)/2,(i-u)/2],-t.xRot/180*a),h=c[0],y=c[1],p=Math.pow(h,2)/Math.pow(n,2)+Math.pow(y,2)/Math.pow(o,2);1<p&&(n*=Math.sqrt(p),o*=Math.sqrt(p)),t.rX=n,t.rY=o;var O=Math.pow(n,2)*Math.pow(y,2)+Math.pow(o,2)*Math.pow(h,2),m=(t.lArcFlag!==t.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(o,2)-O)/O)),T=n*y/o*m,_=-o*h/n*m,v=e([T,_],t.xRot/180*a);t.cX=v[0]+(r+s)/2,t.cY=v[1]+(i+u)/2,t.phi1=Math.atan2((y-_)/o,(h-T)/n),t.phi2=Math.atan2((-y-_)/o,(-h-T)/n),0===t.sweepFlag&&t.phi2>t.phi1&&(t.phi2-=2*a),1===t.sweepFlag&&t.phi2<t.phi1&&(t.phi2+=2*a),t.phi1*=180/a,t.phi2*=180/a}function o(t,r,e){i(t,r,e);var a=t*t+r*r-e*e;if(0>a)return[];if(0===a)return[[t*e/(t*t+r*r),r*e/(t*t+r*r)]];var n=Math.sqrt(a);return[[(t*e+r*n)/(t*t+r*r),(r*e-t*n)/(t*t+r*r)],[(t*e-r*n)/(t*t+r*r),(r*e+t*n)/(t*t+r*r)]]}var s,u=Math.PI/180;function c(t,r,e){return(1-e)*t+e*r}function h(t,r,e,i){return t+Math.cos(i/180*a)*r+Math.sin(i/180*a)*e}function y(t,r,e,i){var a=r-t,n=e-r,o=3*a+3*(i-e)-6*n,s=6*(n-a),u=3*a;return Math.abs(o)<1e-6?[-u/s]:function(t,r,e){void 0===e&&(e=1e-6);var i=t*t/4-r;if(i<-e)return[];if(i<=e)return[-t/2];var a=Math.sqrt(i);return[-t/2-a,-t/2+a]}(s/o,u/o,1e-6)}function p(t,r,e,i,a){var n=1-a;return t*(n*n*n)+r*(3*n*n*a)+e*(3*n*a*a)+i*(a*a*a)}!function(t){function r(){return O((function(t,r,e){return t.relative&&(void 0!==t.x1&&(t.x1+=r),void 0!==t.y1&&(t.y1+=e),void 0!==t.x2&&(t.x2+=r),void 0!==t.y2&&(t.y2+=e),void 0!==t.x&&(t.x+=r),void 0!==t.y&&(t.y+=e),t.relative=!1),t}))}function a(){var t=NaN,r=NaN,e=NaN,i=NaN;return O((function(a,n,o){return a.type&l.SMOOTH_CURVE_TO&&(a.type=l.CURVE_TO,t=isNaN(t)?n:t,r=isNaN(r)?o:r,a.x1=a.relative?n-t:2*n-t,a.y1=a.relative?o-r:2*o-r),a.type&l.CURVE_TO?(t=a.relative?n+a.x2:a.x2,r=a.relative?o+a.y2:a.y2):(t=NaN,r=NaN),a.type&l.SMOOTH_QUAD_TO&&(a.type=l.QUAD_TO,e=isNaN(e)?n:e,i=isNaN(i)?o:i,a.x1=a.relative?n-e:2*n-e,a.y1=a.relative?o-i:2*o-i),a.type&l.QUAD_TO?(e=a.relative?n+a.x1:a.x1,i=a.relative?o+a.y1:a.y1):(e=NaN,i=NaN),a}))}function s(){var t=NaN,r=NaN;return O((function(e,i,a){if(e.type&l.SMOOTH_QUAD_TO&&(e.type=l.QUAD_TO,t=isNaN(t)?i:t,r=isNaN(r)?a:r,e.x1=e.relative?i-t:2*i-t,e.y1=e.relative?a-r:2*a-r),e.type&l.QUAD_TO){t=e.relative?i+e.x1:e.x1,r=e.relative?a+e.y1:e.y1;var n=e.x1,o=e.y1;e.type=l.CURVE_TO,e.x1=((e.relative?0:i)+2*n)/3,e.y1=((e.relative?0:a)+2*o)/3,e.x2=(e.x+2*n)/3,e.y2=(e.y+2*o)/3}else t=NaN,r=NaN;return e}))}function O(t){var r=0,e=0,i=NaN,a=NaN;return function(n){if(isNaN(i)&&!(n.type&l.MOVE_TO))throw new Error("path must start with moveto");var o=t(n,r,e,i,a);return n.type&l.CLOSE_PATH&&(r=i,e=a),void 0!==n.x&&(r=n.relative?r+n.x:n.x),void 0!==n.y&&(e=n.relative?e+n.y:n.y),n.type&l.MOVE_TO&&(i=r,a=e),o}}function m(t,r,e,a,n,o){return i(t,r,e,a,n,o),O((function(i,s,u,c){var h=i.x1,y=i.x2,p=i.relative&&!isNaN(c),O=void 0!==i.x?i.x:p?0:s,m=void 0!==i.y?i.y:p?0:u;function T(t){return t*t}i.type&l.HORIZ_LINE_TO&&0!==r&&(i.type=l.LINE_TO,i.y=i.relative?0:u),i.type&l.VERT_LINE_TO&&0!==e&&(i.type=l.LINE_TO,i.x=i.relative?0:s),void 0!==i.x&&(i.x=i.x*t+m*e+(p?0:n)),void 0!==i.y&&(i.y=O*r+i.y*a+(p?0:o)),void 0!==i.x1&&(i.x1=i.x1*t+i.y1*e+(p?0:n)),void 0!==i.y1&&(i.y1=h*r+i.y1*a+(p?0:o)),void 0!==i.x2&&(i.x2=i.x2*t+i.y2*e+(p?0:n)),void 0!==i.y2&&(i.y2=y*r+i.y2*a+(p?0:o));var _=t*a-r*e;if(void 0!==i.xRot&&(1!==t||0!==r||0!==e||1!==a))if(0===_)delete i.rX,delete i.rY,delete i.xRot,delete i.lArcFlag,delete i.sweepFlag,i.type=l.LINE_TO;else{var v=i.xRot*Math.PI/180,f=Math.sin(v),N=Math.cos(v),E=1/T(i.rX),A=1/T(i.rY),d=T(N)*E+T(f)*A,x=2*f*N*(E-A),C=T(f)*E+T(N)*A,M=d*a*a-x*r*a+C*r*r,R=x*(t*a+r*e)-2*(d*e*a+C*t*r),I=d*e*e-x*t*e+C*t*t,g=(Math.atan2(R,M-I)+Math.PI)%Math.PI/2,S=Math.sin(g),L=Math.cos(g);i.rX=Math.abs(_)/Math.sqrt(M*T(L)+R*S*L+I*T(S)),i.rY=Math.abs(_)/Math.sqrt(M*T(S)-R*S*L+I*T(L)),i.xRot=180*g/Math.PI}return void 0!==i.sweepFlag&&0>_&&(i.sweepFlag=+!i.sweepFlag),i}))}function T(){return function(t){var r={};for(var e in t)r[e]=t[e];return r}}t.ROUND=function(t){function r(r){return Math.round(r*t)/t}return void 0===t&&(t=1e13),i(t),function(t){return void 0!==t.x1&&(t.x1=r(t.x1)),void 0!==t.y1&&(t.y1=r(t.y1)),void 0!==t.x2&&(t.x2=r(t.x2)),void 0!==t.y2&&(t.y2=r(t.y2)),void 0!==t.x&&(t.x=r(t.x)),void 0!==t.y&&(t.y=r(t.y)),void 0!==t.rX&&(t.rX=r(t.rX)),void 0!==t.rY&&(t.rY=r(t.rY)),t}},t.TO_ABS=r,t.TO_REL=function(){return O((function(t,r,e){return t.relative||(void 0!==t.x1&&(t.x1-=r),void 0!==t.y1&&(t.y1-=e),void 0!==t.x2&&(t.x2-=r),void 0!==t.y2&&(t.y2-=e),void 0!==t.x&&(t.x-=r),void 0!==t.y&&(t.y-=e),t.relative=!0),t}))},t.NORMALIZE_HVZ=function(t,r,e){return void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===e&&(e=!0),O((function(i,a,n,o,s){if(isNaN(o)&&!(i.type&l.MOVE_TO))throw new Error("path must start with moveto");return r&&i.type&l.HORIZ_LINE_TO&&(i.type=l.LINE_TO,i.y=i.relative?0:n),e&&i.type&l.VERT_LINE_TO&&(i.type=l.LINE_TO,i.x=i.relative?0:a),t&&i.type&l.CLOSE_PATH&&(i.type=l.LINE_TO,i.x=i.relative?o-a:o,i.y=i.relative?s-n:s),i.type&l.ARC&&(0===i.rX||0===i.rY)&&(i.type=l.LINE_TO,delete i.rX,delete i.rY,delete i.xRot,delete i.lArcFlag,delete i.sweepFlag),i}))},t.NORMALIZE_ST=a,t.QT_TO_C=s,t.INFO=O,t.SANITIZE=function(t){void 0===t&&(t=0),i(t);var r=NaN,e=NaN,a=NaN,n=NaN;return O((function(i,o,s,u,c){var h=Math.abs,y=!1,p=0,O=0;if(i.type&l.SMOOTH_CURVE_TO&&(p=isNaN(r)?0:o-r,O=isNaN(e)?0:s-e),i.type&(l.CURVE_TO|l.SMOOTH_CURVE_TO)?(r=i.relative?o+i.x2:i.x2,e=i.relative?s+i.y2:i.y2):(r=NaN,e=NaN),i.type&l.SMOOTH_QUAD_TO?(a=isNaN(a)?o:2*o-a,n=isNaN(n)?s:2*s-n):i.type&l.QUAD_TO?(a=i.relative?o+i.x1:i.x1,n=i.relative?s+i.y1:i.y2):(a=NaN,n=NaN),i.type&l.LINE_COMMANDS||i.type&l.ARC&&(0===i.rX||0===i.rY||!i.lArcFlag)||i.type&l.CURVE_TO||i.type&l.SMOOTH_CURVE_TO||i.type&l.QUAD_TO||i.type&l.SMOOTH_QUAD_TO){var m=void 0===i.x?0:i.relative?i.x:i.x-o,T=void 0===i.y?0:i.relative?i.y:i.y-s;p=isNaN(a)?void 0===i.x1?p:i.relative?i.x:i.x1-o:a-o,O=isNaN(n)?void 0===i.y1?O:i.relative?i.y:i.y1-s:n-s;var _=void 0===i.x2?0:i.relative?i.x:i.x2-o,v=void 0===i.y2?0:i.relative?i.y:i.y2-s;h(m)<=t&&h(T)<=t&&h(p)<=t&&h(O)<=t&&h(_)<=t&&h(v)<=t&&(y=!0)}return i.type&l.CLOSE_PATH&&h(o-u)<=t&&h(s-c)<=t&&(y=!0),y?[]:i}))},t.MATRIX=m,t.ROTATE=function(t,r,e){void 0===r&&(r=0),void 0===e&&(e=0),i(t,r,e);var a=Math.sin(t),n=Math.cos(t);return m(n,a,-a,n,r-r*n+e*a,e-r*a-e*n)},t.TRANSLATE=function(t,r){return void 0===r&&(r=0),i(t,r),m(1,0,0,1,t,r)},t.SCALE=function(t,r){return void 0===r&&(r=t),i(t,r),m(t,0,0,r,0,0)},t.SKEW_X=function(t){return i(t),m(1,0,Math.atan(t),1,0,0)},t.SKEW_Y=function(t){return i(t),m(1,Math.atan(t),0,1,0,0)},t.X_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),i(t),m(-1,0,0,1,t,0)},t.Y_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),i(t),m(1,0,0,-1,0,t)},t.A_TO_C=function(){return O((function(t,r,i){return l.ARC===t.type?function(t,r,i){var a,o,s,h;t.cX||n(t,r,i);for(var y=Math.min(t.phi1,t.phi2),p=Math.max(t.phi1,t.phi2)-y,O=Math.ceil(p/90),m=new Array(O),T=r,_=i,v=0;v<O;v++){var f=c(t.phi1,t.phi2,v/O),N=c(t.phi1,t.phi2,(v+1)/O),E=N-f,A=4/3*Math.tan(E*u/4),d=[Math.cos(f*u)-A*Math.sin(f*u),Math.sin(f*u)+A*Math.cos(f*u)],x=d[0],C=d[1],M=[Math.cos(N*u),Math.sin(N*u)],R=M[0],I=M[1],g=[R+A*Math.sin(N*u),I-A*Math.cos(N*u)],S=g[0],L=g[1];m[v]={relative:t.relative,type:l.CURVE_TO};var U=function(r,i){var a=e([r*t.rX,i*t.rY],t.xRot),n=a[0],o=a[1];return[t.cX+n,t.cY+o]};a=U(x,C),m[v].x1=a[0],m[v].y1=a[1],o=U(S,L),m[v].x2=o[0],m[v].y2=o[1],s=U(R,I),m[v].x=s[0],m[v].y=s[1],t.relative&&(m[v].x1-=T,m[v].y1-=_,m[v].x2-=T,m[v].y2-=_,m[v].x-=T,m[v].y-=_),T=(h=[m[v].x,m[v].y])[0],_=h[1]}return m}(t,t.relative?0:r,t.relative?0:i):t}))},t.ANNOTATE_ARCS=function(){return O((function(t,r,e){return t.relative&&(r=0,e=0),l.ARC===t.type&&n(t,r,e),t}))},t.CLONE=T,t.CALCULATE_BOUNDS=function(){var t=function(t){var r={};for(var e in t)r[e]=t[e];return r},e=r(),i=s(),u=a(),c=O((function(r,a,s){var O=u(i(e(t(r))));function m(t){t>c.maxX&&(c.maxX=t),t<c.minX&&(c.minX=t)}function T(t){t>c.maxY&&(c.maxY=t),t<c.minY&&(c.minY=t)}if(O.type&l.DRAWING_COMMANDS&&(m(a),T(s)),O.type&l.HORIZ_LINE_TO&&m(O.x),O.type&l.VERT_LINE_TO&&T(O.y),O.type&l.LINE_TO&&(m(O.x),T(O.y)),O.type&l.CURVE_TO){m(O.x),T(O.y);for(var _=0,v=y(a,O.x1,O.x2,O.x);_<v.length;_++){0<(V=v[_])&&1>V&&m(p(a,O.x1,O.x2,O.x,V))}for(var f=0,N=y(s,O.y1,O.y2,O.y);f<N.length;f++){0<(V=N[f])&&1>V&&T(p(s,O.y1,O.y2,O.y,V))}}if(O.type&l.ARC){m(O.x),T(O.y),n(O,a,s);for(var E=O.xRot/180*Math.PI,A=Math.cos(E)*O.rX,d=Math.sin(E)*O.rX,x=-Math.sin(E)*O.rY,C=Math.cos(E)*O.rY,M=O.phi1<O.phi2?[O.phi1,O.phi2]:-180>O.phi2?[O.phi2+360,O.phi1+360]:[O.phi2,O.phi1],R=M[0],I=M[1],g=function(t){var r=t[0],e=t[1],i=180*Math.atan2(e,r)/Math.PI;return i<R?i+360:i},S=0,L=o(x,-A,0).map(g);S<L.length;S++){(V=L[S])>R&&V<I&&m(h(O.cX,A,x,V))}for(var U=0,H=o(C,-d,0).map(g);U<H.length;U++){var V;(V=H[U])>R&&V<I&&T(h(O.cY,d,C,V))}}return r}));return c.minX=1/0,c.maxX=-1/0,c.minY=1/0,c.maxY=-1/0,c}}(s||(s={}));var O,m,T=function(){function t(){}return t.prototype.round=function(t){return this.transform(s.ROUND(t))},t.prototype.toAbs=function(){return this.transform(s.TO_ABS())},t.prototype.toRel=function(){return this.transform(s.TO_REL())},t.prototype.normalizeHVZ=function(t,r,e){return this.transform(s.NORMALIZE_HVZ(t,r,e))},t.prototype.normalizeST=function(){return this.transform(s.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(s.QT_TO_C())},t.prototype.aToC=function(){return this.transform(s.A_TO_C())},t.prototype.sanitize=function(t){return this.transform(s.SANITIZE(t))},t.prototype.translate=function(t,r){return this.transform(s.TRANSLATE(t,r))},t.prototype.scale=function(t,r){return this.transform(s.SCALE(t,r))},t.prototype.rotate=function(t,r,e){return this.transform(s.ROTATE(t,r,e))},t.prototype.matrix=function(t,r,e,i,a,n){return this.transform(s.MATRIX(t,r,e,i,a,n))},t.prototype.skewX=function(t){return this.transform(s.SKEW_X(t))},t.prototype.skewY=function(t){return this.transform(s.SKEW_Y(t))},t.prototype.xSymmetry=function(t){return this.transform(s.X_AXIS_SYMMETRY(t))},t.prototype.ySymmetry=function(t){return this.transform(s.Y_AXIS_SYMMETRY(t))},t.prototype.annotateArcs=function(){return this.transform(s.ANNOTATE_ARCS())},t}(),_=function(t){return" "===t||"\t"===t||"\r"===t||"\n"===t},v=function(t){return"0".charCodeAt(0)<=t.charCodeAt(0)&&t.charCodeAt(0)<="9".charCodeAt(0)},f=function(t){function e(){var r=t.call(this)||this;return r.curNumber="",r.curCommandType=-1,r.curCommandRelative=!1,r.canParseCommandOrComma=!0,r.curNumberHasExp=!1,r.curNumberHasExpDigits=!1,r.curNumberHasDecimal=!1,r.curArgs=[],r}return r(e,t),e.prototype.finish=function(t){if(void 0===t&&(t=[]),this.parse(" ",t),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return t},e.prototype.parse=function(t,r){var e=this;void 0===r&&(r=[]);for(var i=function(t){r.push(t),e.curArgs.length=0,e.canParseCommandOrComma=!0},a=0;a<t.length;a++){var n=t[a];if(v(n))this.curNumber+=n,this.curNumberHasExpDigits=this.curNumberHasExp;else if("e"!==n&&"E"!==n)if("-"!==n&&"+"!==n||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==n||this.curNumberHasExp||this.curNumberHasDecimal){if(this.curNumber&&-1!==this.curCommandType){var o=Number(this.curNumber);if(isNaN(o))throw new SyntaxError("Invalid number ending at "+a);if(this.curCommandType===l.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(0>o)throw new SyntaxError('Expected positive number, got "'+o+'" at index "'+a+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+a+'"');this.curArgs.push(o),this.curArgs.length===N[this.curCommandType]&&(l.HORIZ_LINE_TO===this.curCommandType?i({type:l.HORIZ_LINE_TO,relative:this.curCommandRelative,x:o}):l.VERT_LINE_TO===this.curCommandType?i({type:l.VERT_LINE_TO,relative:this.curCommandRelative,y:o}):this.curCommandType===l.MOVE_TO||this.curCommandType===l.LINE_TO||this.curCommandType===l.SMOOTH_QUAD_TO?(i({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),l.MOVE_TO===this.curCommandType&&(this.curCommandType=l.LINE_TO)):this.curCommandType===l.CURVE_TO?i({type:l.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===l.SMOOTH_CURVE_TO?i({type:l.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===l.QUAD_TO?i({type:l.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===l.ARC&&i({type:l.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!_(n))if(","===n&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==n&&"-"!==n&&"."!==n){if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+a+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+n+'" at index '+a+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==n&&"Z"!==n)if("h"===n||"H"===n)this.curCommandType=l.HORIZ_LINE_TO,this.curCommandRelative="h"===n;else if("v"===n||"V"===n)this.curCommandType=l.VERT_LINE_TO,this.curCommandRelative="v"===n;else if("m"===n||"M"===n)this.curCommandType=l.MOVE_TO,this.curCommandRelative="m"===n;else if("l"===n||"L"===n)this.curCommandType=l.LINE_TO,this.curCommandRelative="l"===n;else if("c"===n||"C"===n)this.curCommandType=l.CURVE_TO,this.curCommandRelative="c"===n;else if("s"===n||"S"===n)this.curCommandType=l.SMOOTH_CURVE_TO,this.curCommandRelative="s"===n;else if("q"===n||"Q"===n)this.curCommandType=l.QUAD_TO,this.curCommandRelative="q"===n;else if("t"===n||"T"===n)this.curCommandType=l.SMOOTH_QUAD_TO,this.curCommandRelative="t"===n;else{if("a"!==n&&"A"!==n)throw new SyntaxError('Unexpected character "'+n+'" at index '+a+".");this.curCommandType=l.ARC,this.curCommandRelative="a"===n}else r.push({type:l.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=n,this.curNumberHasDecimal="."===n}else this.curNumber+=n,this.curNumberHasDecimal=!0;else this.curNumber+=n;else this.curNumber+=n,this.curNumberHasExp=!0}return r},e.prototype.transform=function(t){return Object.create(this,{parse:{value:function(r,e){void 0===e&&(e=[]);for(var i=0,a=Object.getPrototypeOf(this).parse.call(this,r);i<a.length;i++){var n=a[i],o=t(n);Array.isArray(o)?e.push.apply(e,o):e.push(o)}return e}}})},e}(T),l=function(t){function e(r){var i=t.call(this)||this;return i.commands="string"==typeof r?e.parse(r):r,i}return r(e,t),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var t=s.CALCULATE_BOUNDS();return this.transform(t),t},e.prototype.transform=function(t){for(var r=[],e=0,i=this.commands;e<i.length;e++){var a=t(i[e]);Array.isArray(a)?r.push.apply(r,a):r.push(a)}return this.commands=r,this},e.encode=function(t){return E(t)},e.parse=function(t){var r=new f,e=[];return r.parse(t,e),r.finish(e),e},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e}(T),N=((O={})[l.MOVE_TO]=2,O[l.LINE_TO]=2,O[l.HORIZ_LINE_TO]=1,O[l.VERT_LINE_TO]=1,O[l.CLOSE_PATH]=0,O[l.QUAD_TO]=4,O[l.SMOOTH_QUAD_TO]=2,O[l.CURVE_TO]=6,O[l.SMOOTH_CURVE_TO]=4,O[l.ARC]=7,O);function E(t){var r="";Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];if(i.type===l.CLOSE_PATH)r+="z";else if(i.type===l.HORIZ_LINE_TO)r+=(i.relative?"h":"H")+i.x;else if(i.type===l.VERT_LINE_TO)r+=(i.relative?"v":"V")+i.y;else if(i.type===l.MOVE_TO)r+=(i.relative?"m":"M")+i.x+" "+i.y;else if(i.type===l.LINE_TO)r+=(i.relative?"l":"L")+i.x+" "+i.y;else if(i.type===l.CURVE_TO)r+=(i.relative?"c":"C")+i.x1+" "+i.y1+" "+i.x2+" "+i.y2+" "+i.x+" "+i.y;else if(i.type===l.SMOOTH_CURVE_TO)r+=(i.relative?"s":"S")+i.x2+" "+i.y2+" "+i.x+" "+i.y;else if(i.type===l.QUAD_TO)r+=(i.relative?"q":"Q")+i.x1+" "+i.y1+" "+i.x+" "+i.y;else if(i.type===l.SMOOTH_QUAD_TO)r+=(i.relative?"t":"T")+i.x+" "+i.y;else{if(i.type!==l.ARC)throw new Error('Unexpected command type "'+i.type+'" at index '+e+".");r+=(i.relative?"a":"A")+i.rX+" "+i.rY+" "+i.xRot+" "+ +i.lArcFlag+" "+ +i.sweepFlag+" "+i.x+" "+i.y}}return r}var A=function(t){function e(r){var i=t.call(this)||this;return i.commands="string"==typeof r?e.parse(r):r,i}return r(e,t),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var t=s.CALCULATE_BOUNDS();return this.transform(t),t},e.prototype.transform=function(t){for(var r=[],e=0,i=this.commands;e<i.length;e++){var a=t(i[e]);Array.isArray(a)?r.push.apply(r,a):r.push(a)}return this.commands=r,this},e.encode=function(t){return E(t)},e.parse=function(t){var r=new f,e=[];return r.parse(t,e),r.finish(e),e},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e}(T),d=((m={})[A.MOVE_TO]=2,m[A.LINE_TO]=2,m[A.HORIZ_LINE_TO]=1,m[A.VERT_LINE_TO]=1,m[A.CLOSE_PATH]=0,m[A.QUAD_TO]=4,m[A.SMOOTH_QUAD_TO]=2,m[A.CURVE_TO]=6,m[A.SMOOTH_CURVE_TO]=4,m[A.ARC]=7,m);export{d as COMMAND_ARG_COUNTS,A as SVGPathData,f as SVGPathDataParser,s as SVGPathDataTransformer,E as encodeSVGPath};
//# sourceMappingURL=SVGPathData.module.js.map
